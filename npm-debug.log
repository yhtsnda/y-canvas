0 info it worked if it ends with ok
1 verbose cli [ 'node', '/usr/local/bin/npm', 'install', '-g', 'nproxy' ]
2 info using npm@1.1.69
3 info using node@v0.8.16
4 verbose read json /usr/local/lib/package.json
5 verbose read json /usr/local/lib/package.json
6 verbose cache add [ 'nproxy', null ]
7 silly cache add name=undefined spec="nproxy" args=["nproxy",null]
8 verbose parsed url { pathname: 'nproxy', path: 'nproxy', href: 'nproxy' }
9 silly lockFile a7f51152-nproxy nproxy
10 verbose lock nproxy /Users/robbin/.npm/a7f51152-nproxy.lock
11 silly lockFile a7f51152-nproxy nproxy
12 verbose addNamed [ 'nproxy', '' ]
13 verbose addNamed [ null, '' ]
14 silly lockFile d57b8115-nproxy nproxy@
15 verbose lock nproxy@ /Users/robbin/.npm/d57b8115-nproxy.lock
16 silly addNameRange { name: 'nproxy', range: '', hasData: false }
17 verbose url raw nproxy
18 verbose url resolving [ 'https://registry.npmjs.org/', './nproxy' ]
19 verbose url resolved https://registry.npmjs.org/nproxy
20 info trying registry request attempt 1 at 15:15:10
21 http GET https://registry.npmjs.org/nproxy
22 http 200 https://registry.npmjs.org/nproxy
23 silly registry.get cb [ 200,
23 silly registry.get   { vary: 'Accept',
23 silly registry.get     server: 'CouchDB/1.3.0 (Erlang OTP/R15B03)',
23 silly registry.get     etag: '"37Q9B665G0QR54P2URQJ0X74Z"',
23 silly registry.get     date: 'Thu, 13 Jun 2013 07:15:12 GMT',
23 silly registry.get     'content-type': 'application/json',
23 silly registry.get     'content-length': '54190' } ]
24 silly addNameRange number 2 { name: 'nproxy', range: '', hasData: true }
25 silly addNameRange versions [ 'nproxy',
25 silly addNameRange   [ '0.0.1',
25 silly addNameRange     '0.0.2',
25 silly addNameRange     '0.0.3',
25 silly addNameRange     '0.0.4',
25 silly addNameRange     '0.0.5',
25 silly addNameRange     '0.0.6',
25 silly addNameRange     '0.0.7',
25 silly addNameRange     '1.0.0',
25 silly addNameRange     '1.1.0',
25 silly addNameRange     '1.1.1',
25 silly addNameRange     '1.1.2',
25 silly addNameRange     '1.2.0',
25 silly addNameRange     '1.3.0',
25 silly addNameRange     '1.3.1' ] ]
26 verbose addNamed [ 'nproxy', '1.3.1' ]
27 verbose addNamed [ '1.3.1', '1.3.1' ]
28 silly lockFile b14de988-nproxy-1-3-1 nproxy@1.3.1
29 verbose lock nproxy@1.3.1 /Users/robbin/.npm/b14de988-nproxy-1-3-1.lock
30 silly lockFile 146e32c5-pmjs-org-nproxy-nproxy-1-3-1-tgz https://registry.npmjs.org/nproxy/-/nproxy-1.3.1.tgz
31 verbose lock https://registry.npmjs.org/nproxy/-/nproxy-1.3.1.tgz /Users/robbin/.npm/146e32c5-pmjs-org-nproxy-nproxy-1-3-1-tgz.lock
32 verbose addRemoteTarball [ 'https://registry.npmjs.org/nproxy/-/nproxy-1.3.1.tgz',
32 verbose addRemoteTarball   'd6d329889d48bff48bd160da7b8f1364e33bd060' ]
33 info retry fetch attempt 1 at 15:15:13
34 verbose fetch to= /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/tmp.tgz
35 http GET https://registry.npmjs.org/nproxy/-/nproxy-1.3.1.tgz
36 http 200 https://registry.npmjs.org/nproxy/-/nproxy-1.3.1.tgz
37 silly shasum updated bytes 29940
38 info shasum d6d329889d48bff48bd160da7b8f1364e33bd060
38 info shasum /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/tmp.tgz
39 verbose tar unpack /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/tmp.tgz
40 silly lockFile 304b6d2f-3209-0-06348758493550122-package /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/package
41 verbose lock /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/package /Users/robbin/.npm/304b6d2f-3209-0-06348758493550122-package.lock
42 silly gunzTarPerm modes [ '755', '644' ]
43 silly gunzTarPerm extractEntry package.json
44 silly gunzTarPerm extractEntry .npmignore
45 silly gunzTarPerm extractEntry README.md
46 silly gunzTarPerm extractEntry replace-rule.sample.js
47 silly gunzTarPerm extractEntry start.js
48 silly gunzTarPerm extractEntry lib/log.js
49 silly gunzTarPerm extractEntry lib/nproxy.js
50 silly gunzTarPerm extractEntry lib/utils.js
51 silly gunzTarPerm extractEntry lib/middlewares/forward.js
52 silly gunzTarPerm extractEntry lib/middlewares/index.js
53 silly gunzTarPerm extractEntry lib/middlewares/respond.js
54 silly gunzTarPerm extractEntry lib/middlewares/responders/combo.js
55 silly gunzTarPerm extractEntry lib/middlewares/responders/index.js
56 silly gunzTarPerm extractEntry lib/middlewares/responders/local-file.js
57 silly gunzTarPerm extractEntry lib/middlewares/responders/web-file.js
58 silly gunzTarPerm extractEntry Makefile
59 silly gunzTarPerm extractEntry .travis.yml
60 silly gunzTarPerm extractEntry TODO.md
61 silly gunzTarPerm extractEntry bin/nproxy
62 silly gunzTarPerm extractEntry CHANGELOG.md
63 silly gunzTarPerm extractEntry keys/certificate.pem
64 silly gunzTarPerm extractEntry keys/privatekey.pem
65 silly gunzTarPerm extractEntry test/forward.js
66 silly gunzTarPerm extractEntry test/hot-deploy.js
67 silly gunzTarPerm extractEntry test/listen.js
68 silly gunzTarPerm extractEntry test/respond.js
69 silly gunzTarPerm extractEntry test/mocha.opts
70 silly gunzTarPerm extractEntry test/support/replace-list.js
71 silly gunzTarPerm extractEntry test/support/replace-list2.js
72 silly gunzTarPerm extractEntry test/support/target-server.js
73 silly gunzTarPerm extractEntry test/support/util.js
74 silly gunzTarPerm extractEntry test/support/files/replaced/c1.js
75 silly gunzTarPerm extractEntry test/support/files/replaced/c2.js
76 silly gunzTarPerm extractEntry test/support/files/replaced/c3.js
77 silly gunzTarPerm extractEntry test/support/files/replaced/c4.js
78 silly gunzTarPerm extractEntry test/support/files/replaced/hot-deploy.js
79 silly gunzTarPerm extractEntry test/support/files/replaced/ar.css
80 silly gunzTarPerm extractEntry test/support/files/replaced/bstar.css
81 silly gunzTarPerm extractEntry test/support/files/replaced/img/avatar.jpg
82 silly gunzTarPerm extractEntry test/support/files/replaced/js/he.js
83 silly gunzTarPerm extractEntry test/support/files/replaced/js/hell.js
84 silly gunzTarPerm extractEntry test/support/files/replaced/js/hello.js
85 silly gunzTarPerm extractEntry test/support/files/replaced/js/hello2.js
86 silly gunzTarPerm extractEntry test/support/files/web/combine.js
87 silly gunzTarPerm extractEntry test/support/files/web/combined.js
88 silly gunzTarPerm extractEntry test/support/files/web/hot-deploy.js
89 silly gunzTarPerm extractEntry test/support/files/web/a.css
90 silly gunzTarPerm extractEntry test/support/files/web/b.css
91 silly gunzTarPerm extractEntry test/support/files/web/ba.css
92 silly gunzTarPerm extractEntry test/support/keys/certificate.pem
93 silly gunzTarPerm extractEntry test/support/keys/privatekey.pem
94 silly gunzTarPerm extractEntry MIT-License.txt
95 verbose read json /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/package/package.json
96 silly lockFile 304b6d2f-3209-0-06348758493550122-package /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/package
97 verbose from cache /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/package/package.json
98 verbose tar pack [ '/Users/robbin/.npm/nproxy/1.3.1/package.tgz',
98 verbose tar pack   '/var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/package' ]
99 verbose tarball /Users/robbin/.npm/nproxy/1.3.1/package.tgz
100 verbose folder /var/folders/wr/p8bdnz4522l5lkvkr5g5hskr0000gn/T/npm-58777/1371107713209-0.06348758493550122/package
101 silly lockFile 524f5402-bin-npm-nproxy-1-3-1-package-tgz /Users/robbin/.npm/nproxy/1.3.1/package.tgz
102 verbose lock /Users/robbin/.npm/nproxy/1.3.1/package.tgz /Users/robbin/.npm/524f5402-bin-npm-nproxy-1-3-1-package-tgz.lock
103 silly lockFile 524f5402-bin-npm-nproxy-1-3-1-package-tgz /Users/robbin/.npm/nproxy/1.3.1/package.tgz
104 silly lockFile f1c81615--robbin-npm-nproxy-1-3-1-package /Users/robbin/.npm/nproxy/1.3.1/package
105 verbose lock /Users/robbin/.npm/nproxy/1.3.1/package /Users/robbin/.npm/f1c81615--robbin-npm-nproxy-1-3-1-package.lock
106 silly lockFile f1c81615--robbin-npm-nproxy-1-3-1-package /Users/robbin/.npm/nproxy/1.3.1/package
107 verbose tar unpack /Users/robbin/.npm/nproxy/1.3.1/package.tgz
108 silly lockFile f1c81615--robbin-npm-nproxy-1-3-1-package /Users/robbin/.npm/nproxy/1.3.1/package
109 verbose lock /Users/robbin/.npm/nproxy/1.3.1/package /Users/robbin/.npm/f1c81615--robbin-npm-nproxy-1-3-1-package.lock
110 silly gunzTarPerm modes [ '755', '644' ]
111 silly gunzTarPerm extractEntry package.json
112 silly gunzTarPerm extractEntry .npmignore
113 silly gunzTarPerm extractEntry README.md
114 silly gunzTarPerm extractEntry replace-rule.sample.js
115 silly gunzTarPerm extractEntry start.js
116 silly gunzTarPerm extractEntry lib/log.js
117 silly gunzTarPerm extractEntry lib/nproxy.js
118 silly gunzTarPerm extractEntry lib/utils.js
119 silly gunzTarPerm extractEntry lib/middlewares/forward.js
120 silly gunzTarPerm extractEntry lib/middlewares/index.js
121 silly gunzTarPerm extractEntry lib/middlewares/respond.js
122 silly gunzTarPerm extractEntry lib/middlewares/responders/combo.js
123 silly gunzTarPerm extractEntry lib/middlewares/responders/index.js
124 silly gunzTarPerm extractEntry lib/middlewares/responders/local-file.js
125 silly gunzTarPerm extractEntry lib/middlewares/responders/web-file.js
126 silly gunzTarPerm extractEntry Makefile
127 silly gunzTarPerm extractEntry .travis.yml
128 silly gunzTarPerm extractEntry TODO.md
129 silly gunzTarPerm extractEntry bin/nproxy
130 silly gunzTarPerm extractEntry CHANGELOG.md
131 silly gunzTarPerm extractEntry keys/certificate.pem
132 silly gunzTarPerm extractEntry keys/privatekey.pem
133 silly gunzTarPerm extractEntry test/forward.js
134 silly gunzTarPerm extractEntry test/hot-deploy.js
135 silly gunzTarPerm extractEntry test/listen.js
136 silly gunzTarPerm extractEntry test/respond.js
137 silly gunzTarPerm extractEntry test/mocha.opts
138 silly gunzTarPerm extractEntry test/support/replace-list.js
139 silly gunzTarPerm extractEntry test/support/replace-list2.js
140 silly gunzTarPerm extractEntry test/support/target-server.js
141 silly gunzTarPerm extractEntry test/support/util.js
142 silly gunzTarPerm extractEntry test/support/files/replaced/c1.js
143 silly gunzTarPerm extractEntry test/support/files/replaced/c2.js
144 silly gunzTarPerm extractEntry test/support/files/replaced/c3.js
145 silly gunzTarPerm extractEntry test/support/files/replaced/c4.js
146 silly gunzTarPerm extractEntry test/support/files/replaced/hot-deploy.js
147 silly gunzTarPerm extractEntry test/support/files/replaced/ar.css
148 silly gunzTarPerm extractEntry test/support/files/replaced/bstar.css
149 silly gunzTarPerm extractEntry test/support/files/replaced/img/avatar.jpg
150 silly gunzTarPerm extractEntry test/support/files/replaced/js/he.js
151 silly gunzTarPerm extractEntry test/support/files/replaced/js/hell.js
152 silly gunzTarPerm extractEntry test/support/files/replaced/js/hello.js
153 silly gunzTarPerm extractEntry test/support/files/replaced/js/hello2.js
154 silly gunzTarPerm extractEntry test/support/files/web/combine.js
155 silly gunzTarPerm extractEntry test/support/files/web/combined.js
156 silly gunzTarPerm extractEntry test/support/files/web/hot-deploy.js
157 silly gunzTarPerm extractEntry test/support/files/web/a.css
158 silly gunzTarPerm extractEntry test/support/files/web/b.css
159 silly gunzTarPerm extractEntry test/support/files/web/ba.css
160 silly gunzTarPerm extractEntry test/support/keys/certificate.pem
161 silly gunzTarPerm extractEntry test/support/keys/privatekey.pem
162 silly gunzTarPerm extractEntry MIT-License.txt
163 verbose read json /Users/robbin/.npm/nproxy/1.3.1/package/package.json
164 silly lockFile f1c81615--robbin-npm-nproxy-1-3-1-package /Users/robbin/.npm/nproxy/1.3.1/package
165 silly shasum updated bytes 29940
166 info shasum d6d329889d48bff48bd160da7b8f1364e33bd060
166 info shasum /Users/robbin/.npm/nproxy/1.3.1/package.tgz
167 verbose from cache /Users/robbin/.npm/nproxy/1.3.1/package/package.json
168 verbose chmod /Users/robbin/.npm/nproxy/1.3.1/package.tgz 644
169 verbose chown /Users/robbin/.npm/nproxy/1.3.1/package.tgz [ 501, 20 ]
170 silly lockFile 146e32c5-pmjs-org-nproxy-nproxy-1-3-1-tgz https://registry.npmjs.org/nproxy/-/nproxy-1.3.1.tgz
171 silly lockFile b14de988-nproxy-1-3-1 nproxy@1.3.1
172 silly lockFile d57b8115-nproxy nproxy@
173 silly resolved [ { name: 'nproxy',
173 silly resolved     author:
173 silly resolved      { name: 'Goddy Zhao',
173 silly resolved        email: 'goddy128@gmail.com',
173 silly resolved        url: 'http://goddyzhao.me' },
173 silly resolved     version: '1.3.1',
173 silly resolved     description: 'A cli proxy tool specialized in file replacing',
173 silly resolved     dependencies: { connect: '*', commander: '*', mime: '*', step: '*' },
173 silly resolved     devDependencies: { mocha: '*', should: '*' },
173 silly resolved     main: './lib/nproxy',
173 silly resolved     bin: { nproxy: './bin/nproxy' },
173 silly resolved     scripts: { test: 'make test' },
173 silly resolved     repository: { type: 'git', url: 'https://github.com/goddyZhao/nproxy.git' },
173 silly resolved     keywords: [ 'node.js', 'web', 'proxy', 'fiddler' ],
173 silly resolved     license: 'MIT',
173 silly resolved     readme: '# NProxy\n\nA cli proxy tool specialized in file replacing\n\n[![Build Status](https://secure.travis-ci.org/goddyZhao/nproxy.png)](http://travis-ci.org/goddyZhao/nproxy)\n\n## Why NProxy\n\nMaybe you have such question as why NProxy when we have [Fiddler](http://www.fiddler2.com/fiddler2/), [Charles](http://www.charlesproxy.com/), [Rythem](http://www.alloyteam.com/2012/05/web-front-end-tool-rythem-1/) and [Tinyproxy](https://banu.com/tinyproxy/). Yes, there is no doubt that they are all great tools, however they don\'t meet my requirements:\n\n* Support Mac, Linux and Windows(especially Mac and Linux)\n* Support replacing combo files with separated source files\n* Support directory mapping\n\nThis is the main reason why NProxy is here. Besides, NProxy can improve the efficiency of my daily development for enterprise-level product with a bunch of complex building processes, which cost me lots of time.\n\nI\'ve written a post named [NProxy: The Mjolnir for UI Developers](http://en.blog.goddyzhao.me/post/29470818841/nproxy-the-mjolnir-for-ui-developers)  and a keynote [NProxy: A Sharp Weapon for UI Developers](https://speakerdeck.com/u/goddyzhao/p/nproxy-a-sharp-weapon-for-ui-developers) to explain my reason for developing NProxy in detail.\n\n## Features\n\n* Support Mac, Linux and Windows  \n* Support both single file and combo file replacing\n* Support directory mapping with any files\n* Support both HTTP and HTTPS\n\n## Installation\n\n    npm install -g nproxy (node >= v0.8.x is required)\n\nIf you are not familiar with Node.js and NPM, you can visit the [How to install NProxy](https://github.com/goddyZhao/nproxy/wiki/How-to-install-NProxys) wiki page to get detail information about installation of NProxy\n\n## Usage\n    \n    nproxy -l replace_rule.js \n\n    Setting your browser\'s proxy to 127.0.0.1:port(8989 by default)\n\nIf you don\'t know how to set proxy for browser, please read this wiki: [How to set brower\'s proxy](https://github.com/goddyZhao/nproxy/wiki/How-to-set-browser\'s-proxy)\n\n\n### More Options:\n\n    Usage: nproxy [options]\n\n    Options:\n\n      -h, --help         output usage information\n      -V, --version      output the version number\n      -l, --list [list]  Specify the replace rule file\n      -p, --port [port]  Specify the port nproxy will listen on(8989 by default)\n      -t, --timeout [timeout] Specify the request timeout (5 seconds by default)\n\n## Template of Replace Rule file(should be a .js file)\n\n    module.exports = [\n\n      // 1. replace single file with local one\n      {\n        pattern: \'homepage.js\',      // Match url you wanna replace\n        responder:  "/home/goddyzhao/workspace/homepage.js"\n      },\n\n      // 2. replace single file with web file\n      {\n        pattern: \'homepage.js\',      // Match url you wanna replace\n        responder:  "http://www.anotherwebsite.com/assets/js/homepage2.js"\n      },\n\n      // 3. replace combo file with src with absolute file path\n      {\n        pattern: \'group/homepageTileFramework.*.js\', \n        responder: [\n          \'/home/goddyzhao/workspace/webapp/ui/homepage/js/a.js\',\n          \'/home/goddyzhao/workspace/webapp/ui/homepage/js/b.js\',\n          \'/home/goddyzhao/workspace/webapp/ui/homepage/js/c.js\'\n        ] \n      },\n\n      // 4. replace combo file with src with relative file path and specified dir\n      {\n        pattern: \'group/homepageTileFramework.*.js\',\n        responder: {\n          dir: \'/home/goddyzhao/workspace/webapp/ui/homepage/js\',\n          src: [\n            \'a.js\',\n            \'b.js\',\n            \'c.js\'\n          ]\n        }\n      },\n\n      // 5. Map server image directory to local image directory\n      {\n        pattern: \'ui/homepage/img\',  // must be a string\n        responder: \'/home/goddyzhao/image/\' //must be a absolute directory path\n      },\n\n      // 6. Write responder with regular expression variables like $1, $2\n      {\n        pattern: /https?:\\/\\/[\\w\\.]*(?::\\d+)?\\/ui\\/(.*)_dev\\.(\\w+)/,\n        reponder: \'http://localhost/proxy/$1.$2\'\n      }\n    ];\n\nYou can use the [template file](https://github.com/goddyzhao/nproxy/blob/master/replace-rule.sample.js) and replace it with your own configurations. \n\n## Quickly setup rule files for SF project\n\nFor UI Developers from SuccessFactors, here is a bonus for you guys. You can use the [sf-transfer](http://goddyzhao.github.com/sf-transfer) tool to transfer the combo xml file to NProxy rule file automatically!\n\n## License\n\nNProxy is available under the terms of the MIT License',
173 silly resolved     readmeFilename: 'README.md',
173 silly resolved     _id: 'nproxy@1.3.1',
173 silly resolved     dist: { shasum: 'd6d329889d48bff48bd160da7b8f1364e33bd060' },
173 silly resolved     _from: 'nproxy' } ]
174 info install nproxy@1.3.1 into /usr/local/lib
175 info installOne nproxy@1.3.1
176 verbose from cache /Users/robbin/.npm/nproxy/1.3.1/package/package.json
177 info /usr/local/lib/node_modules/nproxy unbuild
178 verbose read json /usr/local/lib/node_modules/nproxy/package.json
179 verbose tar unpack /Users/robbin/.npm/nproxy/1.3.1/package.tgz
180 silly lockFile 72924d2f-sr-local-lib-node-modules-nproxy /usr/local/lib/node_modules/nproxy
181 verbose lock /usr/local/lib/node_modules/nproxy /Users/robbin/.npm/72924d2f-sr-local-lib-node-modules-nproxy.lock
182 silly gunzTarPerm modes [ '755', '644' ]
183 error Error: EACCES, mkdir '/usr/local/lib/node_modules/nproxy'
183 error  { [Error: EACCES, mkdir '/usr/local/lib/node_modules/nproxy']
183 error   errno: 3,
183 error   code: 'EACCES',
183 error   path: '/usr/local/lib/node_modules/nproxy',
183 error   fstream_type: 'Directory',
183 error   fstream_path: '/usr/local/lib/node_modules/nproxy',
183 error   fstream_class: 'DirWriter',
183 error   fstream_stack:
183 error    [ 'DirWriter._create (/usr/local/lib/node_modules/npm/node_modules/fstream/lib/dir-writer.js:36:23)',
183 error      '/usr/local/lib/node_modules/npm/node_modules/mkdirp/index.js:37:53',
183 error      'Object.oncomplete (fs.js:297:15)' ] }
184 error Please try running this command again as root/Administrator.
185 error System Darwin 12.3.0
186 error command "node" "/usr/local/bin/npm" "install" "-g" "nproxy"
187 error cwd /Users/robbin/workspace/y-canvas
188 error node -v v0.8.16
189 error npm -v 1.1.69
190 error path /usr/local/lib/node_modules/nproxy
191 error fstream_path /usr/local/lib/node_modules/nproxy
192 error fstream_type Directory
193 error fstream_class DirWriter
194 error code EACCES
195 error errno 3
196 error stack Error: EACCES, mkdir '/usr/local/lib/node_modules/nproxy'
197 error fstream_stack DirWriter._create (/usr/local/lib/node_modules/npm/node_modules/fstream/lib/dir-writer.js:36:23)
197 error fstream_stack /usr/local/lib/node_modules/npm/node_modules/mkdirp/index.js:37:53
197 error fstream_stack Object.oncomplete (fs.js:297:15)
198 verbose exit [ 3, true ]
